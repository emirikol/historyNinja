- province / country panels + better binding (current province + settings)
  - current X changes with time
- better slider / mobile slider
- progress bar
V vassalage...
V wars
- edit events
  - edit view
  - set up real server...
  - users??
  - create patch or pull request
  - split events into files for easier merging, merge after every patch
  - what about maps???


V bi-directionality
V better farking parsing
V pan & zoom
V finer grained event dates
V switch to work with controllers instead of owners
V display date
V performance I
~ other data sources
V design I
V performance II
- refactor js
- refactor html
- show rebellions types?
- update displayed data when events change it...
- show HRE
V vassalage
- color by...
- highlight selection
- moar data?
- separate panels
V ios support
- progress bar
- find country (in time in addition to place??
- share view
- share buttons?




- highlight selection
  1 merge paths by replacing z with ' '.
  2 append merged path, it should have some stroke
  3 append all relevents provinces after it
- ios support
  V loading screen
  - larger header?
  V working pan/zoom
  - no scale tips
- other data sources
  - flexible converter
    - progress reporting for conversions
  - side by side sources
  - calculate events range
- design
  - loading screen
- performace
  - (lazy?) cache dom elements!!!!!
  - pre-set initial owners (and colors) on svg
  V make all changes by some polling mechanism, so it is detached from UI.
  V force render by chopping up and queuing progression.
  V merge events one same date to same owner. deal with multiple ids in js. should halve number of events
  -theortically I can stick event ids or snapshot ids on paths...
  - save provinces snaphots so that one can skip to closest snapshot and work from there
    - snapshot: provinces=>owner,color
  - save/index provinces per owner, ought to allow quicker updating (loading from snapshot)
  - for long jump to past, we can just go forward from first point/snaphot
  - save changes in more than one interval, zipping multiple changes to the same province in the larger intervals
  - make changes in json and apply at once when target is reached?) - as is I think it will give horrible xp. maybe in conjunction with decoupling from UI
  
  - profile results
    - that is 2s per 100y. and ~2s to load snapshot
    - input event is not triggered while js is locked
    - applying 4k events takes 8 seconds
    - messing with time & skipping events is trivial
    - coloring all the map takes 1s tops
    - setting owner attribute per province takes 3 seconds
  
  - just inline the whole bloody page?
  - wrap more with $.when() to avoid calling it so much. (probably not useful)
  - profile time travel to past
  - index the history
  
  
  
color by:
  controller - hist/province
  suzerain - hist/diplomacy
  hre  - hist/province
  religion - 
  culture - 
  

data:
  province:
   x city
   revolt type - rebel_types.txt
   V culture - hist/province
   V religion - hist/province
   hre.  - hist/province
   normalized(?) population - hist/province. ignored in SW
  country 
    V link - wing it
    V ruler (dynasty?) - hist/country
    V govt. type - hist/country
    religion - hist/country
    capital? - hist/country + hist/province
    wars - wars
    alliances - hist/dimplomacy
    V suzerain - hist/dimplomacy
    V client states - hist/dimplomacy
    
  
  
  
timeout =>
  if current != range value
    target = max 50 years in direction of range value
    progress
    update current time
    update date display?
  set timeout